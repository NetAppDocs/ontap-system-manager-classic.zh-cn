---
permalink: online-help-96-97/task_tracing_file_access_to_diagnose_access_errors_on_svms.html 
sidebar: sidebar 
keywords: trace, file, access, diagnost, error, svm, system, manager, online, help 
summary: 从 System Manager 9.6 开始，您可以诊断 Storage Virtual Machine （ SVM ）上的 CIFS 或 NFS 文件访问错误。 
---
= 使用 System Manager 跟踪文件访问以诊断 SVM 上的访问错误
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
从 System Manager 9.6 开始，您可以诊断 Storage Virtual Machine （ SVM ）上的 CIFS 或 NFS 文件访问错误。

.关于此任务
当共享配置，权限或用户映射出现问题时，可能会出现文件访问问题，例如 "`access denied` " 错误。您可以使用 System Manager 通过查看用户要访问的文件或共享的访问跟踪结果来帮助解决文件访问问题。System Manager 会显示文件或共享是否具有有效的读取，写入或执行权限，以及访问有效或无效的原因。

.步骤
. 单击 * 存储 * > * SVMs * 。
. 选择包含收到文件访问错误的文件或共享的 SVM 。
. 单击 * 跟踪文件访问 * 。
+
选定 SVM 的 " 跟踪文件访问 " 窗口显示了跟踪文件访问权限所需的前提条件和步骤。

. 单击 * 继续 * 开始文件跟踪过程。
. 选择用于访问选定 SVM 上的文件或共享的协议。
. 在 * 用户名 * 字段中，输入尝试访问文件或共享的用户的名称。
. * 可选： * 单击 image:../media/advanced_options.gif[""] 指定更多详细信息以缩小跟踪范围。
+
通过高级选项对话框窗口，您可以指定以下详细信息：

+
** * 客户端 IP 地址 * ：指定客户端的 IP 地址。
** * 文件 * ：指定要跟踪的文件名或文件路径。
** * 在跟踪结果中显示 * ：指定是要仅查看拒绝访问的条目，还是仅查看所有条目。
单击 * 应用 * 以应用指定的详细信息并返回到 " 跟踪文件访问 " 窗口。


. 单击 * 开始跟踪 * 。
+
此时将启动跟踪并显示一个结果表。此表为空，直到用户在请求文件访问时收到错误为止。结果表每 15 秒刷新一次，并按时间倒序显示消息。

. 通知受影响的用户，他们应在接下来的 60 分钟内尝试访问这些文件。
+
如果在跟踪期间指定用户名出现错误，则结果表将显示拒绝文件访问请求的详细信息。原因列可确定导致用户无法访问文件的问题以及发生这些问题的原因。

. *可选：*在结果表的*原因*列中、单击*查看权限*以查看用户尝试访问的文件的权限。
+
** 当跟踪结果显示一条消息，指出未授予 " 同步 " ， " 读取控制 " ， " 读取属性 " ， " 执行 " ， " 读取 EA" 访问权限时， 消息为 "write" 或 "read" ，表示尚未为列出的权限集授予所需访问权限。要查看实际权限状态，您需要使用提供的链接查看权限。
** 如果指定了 CIFS 协议，则会显示 " 有效文件和共享权限 " 对话框，其中列出了与用户尝试访问的共享和文件关联的文件和共享权限。
** 如果指定了 NFS 协议，则会显示 " 有效文件权限 " 对话框，其中列出了与用户尝试访问的文件关联的文件权限。
复选标记表示已授予权限， "`X` " 表示未授予权限。


+
单击 * 确定 * 返回到 " 跟踪文件访问 " 窗口。

. *可选：*结果表显示只读数据。您可以对跟踪结果执行以下操作：
+
** 单击 * 复制到剪贴板 * 将结果复制到剪贴板。
** 单击 * 导出跟踪结果 * 将结果导出到逗号分隔值（ CSV ）文件。


. 要结束跟踪操作，请单击 * 停止跟踪 * 。

